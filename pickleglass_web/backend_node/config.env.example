# ==========================================
# CLAIRE BACKEND - Configuration File
# ==========================================
# Copy this file to .env and fill in your values

# Backend Server Configuration
BACKEND_PORT=5001
NODE_ENV=development

# Database (PostgreSQL via Supabase)
# âœ… IMPORTANT: Use connection pooling for better performance
# Replace [PROJECT_REF] and [PASSWORD] with your actual values
# Use the "session mode" connection string for Postgres.js
DATABASE_URL=postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres?pgbouncer=true

# Alternative direct connection (for migrations/debugging)
# DATABASE_URL_DIRECT=postgresql://postgres:[PASSWORD]@db.[PROJECT_REF].supabase.co:5432/postgres

# Database Pool Configuration
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=10000

# OpenAI (Required for Knowledge Base embeddings)
OPENAI_API_KEY=sk-...
OPENAI_MODEL=text-embedding-3-small

# Firebase (Already configured)
FIREBASE_PROJECT_ID=clairia-app
FIREBASE_API_KEY=...
FIREBASE_AUTH_DOMAIN=clairia-app.firebaseapp.com

# CORS Configuration
PICKLEGLASS_WEB_URL=https://app.clairia.app
APP_WEB_URL=https://app.clairia.app

# API Base URL
API_BASE_URL=http://localhost:5001

# Rate Limiting
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# Logging
LOG_LEVEL=info

# Knowledge Base Configuration
KB_MAX_DOCUMENT_SIZE=10485760
KB_SUPPORTED_TYPES=txt,md,html,pdf,docx,json
